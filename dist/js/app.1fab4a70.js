(function(){"use strict";var t={6554:function(t,i,e){var s=e(9242),h=e(3396),a=e(7139);const d={class:"score left"},l={class:"score right"},r={class:"game-canvas",ref:"canvas"};function n(t,i,e,s,n,o){return(0,h.wg)(),(0,h.iD)(h.HY,null,[(0,h._)("div",d,(0,a.zw)(n.leftScore),1),(0,h._)("div",l,(0,a.zw)(n.rightScore),1),(0,h._)("canvas",r,null,512)],64)}class o{constructor(t,i,e,s){this.x=t,this.y=i,this.resetX=t,this.resetY=i,this.radius=e,this.defaultSpeed=10,this.speed=this.defaultSpeed,this.image=new Image,this.image.onload=()=>{console.log("image loaded")},this.image.src=s,this.generateRandomAngle()}draw(t){t.drawImage(this.image,this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}reset(){this.x=this.resetX,this.y=this.resetY,this.speed=this.defaultSpeed}generateRandomAngle(){this.angle=.77*(Math.random()*Math.PI-.5*Math.PI),Math.abs(this.angle)<Math.PI/8&&this.generateRandomAngle(),this.dx=Math.cos(this.angle),Math.random()<.5&&(this.dx*=-1),this.dy=Math.sin(this.angle)}}class c{constructor(t,i,e,s,h,a){this.ball=i,this.canvas=t,this.onLeftScore=h,this.onRightScore=a,this.leftPaddle=e,this.rightPaddle=s}check(){let t=this.canvas.width/80;this.ball.x+this.ball.radius>this.canvas.width-t?(this.onLeftScore(),this.reset()):this.ball.x-this.ball.radius<t&&(this.onRightScore(),this.reset())}reset(){this.ball.reset(),this.leftPaddle.reset(),this.rightPaddle.reset()}}class u{constructor(t,i,e,s,h){this.ball=t,this.canvas=i,this.leftPaddle=e,this.rightPaddle=s,this.scoringHandler=h}move(){this.ball.x+=this.ball.dx*this.ball.speed,this.ball.y+=this.ball.dy*this.ball.speed,this.checkCollision()}slope(){return this.ball.dy/this.ball.dx}checkCollision(){let t=this.ball;(t.x+t.radius>this.canvas.width||t.x-t.radius<0)&&(t.dx=-t.dx),(t.y+t.radius>this.canvas.height||t.y-t.radius<0)&&(t.dy=-t.dy),t.x-t.radius<this.leftPaddle.x+this.leftPaddle.width&&t.x+t.radius>this.leftPaddle.x&&t.y+t.radius>this.leftPaddle.y&&t.y-t.radius<this.leftPaddle.y+this.leftPaddle.height&&(t.dx=-t.dx,t.x=this.leftPaddle.x+this.leftPaddle.width+t.radius,this.speedUp()),this.ball.x+this.ball.radius>this.rightPaddle.x&&this.ball.x-this.ball.radius<this.rightPaddle.x+this.rightPaddle.width&&this.ball.y+this.ball.radius>this.rightPaddle.y&&this.ball.y-this.ball.radius<this.rightPaddle.y+this.rightPaddle.height&&(t.dx=-t.dx,t.x=this.rightPaddle.x-t.radius,this.speedUp()),this.scoringHandler.check()}speedUp(){this.ball.speed<100&&(this.ball.speed+=1)}}class g{constructor(t,i,e){this.paddle=t,this.canvas=e,this.ballMoveBehavior=i,this.speed=8}update(){if(Math.sign(this.ballMoveBehavior.ball.dx)!==Math.sign(this.paddle.x-this.ballMoveBehavior.ball.x)){if(Math.abs(this.ballMoveBehavior.ball.x-this.paddle.x)<this.canvas.width/4)return;return void this.movePaddleTowardsTarget(this.canvas.height/2)}let t=this.ballMoveBehavior.slope(),i=this.canvas.height,e=this.paddle.x+this.paddle.width/2,s=this.ballMoveBehavior.ball.y+t*(e-this.ballMoveBehavior.ball.x),h=Math.floor(s/i),a=s-h*i,d=a-this.paddle.height/2;h%2!==0&&(d=i-a-this.paddle.height/2),this.movePaddleTowardsTarget(d),this.ensurePaddleInBounds()}movePaddleTowardsTarget(t){t-this.paddle.y>this.speed?this.paddle.y+=this.speed:t-this.paddle.y<-this.speed&&(this.paddle.y-=this.speed)}ensurePaddleInBounds(){this.paddle.y<0?this.paddle.y=0:this.paddle.y+this.paddle.height>this.canvas.height&&(this.paddle.y=this.canvas.height-this.paddle.height)}}class v{constructor(t,i,e,s,h){this.x=t,this.y=i,this.resetX=t,this.resetY=i,this.width=e,this.height=s,this.image=new Image,this.image.onload=()=>{console.log("loaded")},this.image.src=h}draw(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}reset(){this.x=this.resetX,this.y=this.resetY}}class p{constructor(){this.isPaused=!1,this.timerFunction=null}pause(t){this.timerFunction&&clearTimeout(this.timerFunction),this.isPaused=!0,this.timerFunction=setTimeout((()=>{this.isPaused=!1}),t)}}var f={name:"App",mounted(){const t=this.$refs.canvas;this.setUpCanvas(t),this.createObjects(t),this.update()},unmounted(){window.removeEventListener("resize",this.onResize),cancelAnimationFrame(this.animationFrame)},methods:{update(){this.pauseTimer.isPaused?this.animationFrame=requestAnimationFrame(this.update):(this.moveObjects(),this.clearCanvas(this.ctx),this.draw())},createObjects(t){let i="https://cdn.discordapp.com/emojis/1015738796987404489.webp?size=96&quality=lossless",e="https://cdn.discordapp.com/emojis/1015738795041239080.webp?size=96&quality=lossless";this.leftPaddle=new v(t.width/8,t.height/2,t.height/30,t.height/8,i),this.rightPaddle=new v(t.width-t.width/8,t.height/2,t.height/30,t.height/8,i),this.ball=new o(t.width/2,t.height/2,t.height/40,e),this.scoringHandler=new c(t,this.ball,this.leftPaddle,this.rightPaddle,(()=>this.leftScore++),(()=>this.rightScore++)),this.ballMoveBehavior=new u(this.ball,t,this.leftPaddle,this.rightPaddle,this.scoringHandler),this.leftPaddleMoveBehavior=new g(this.leftPaddle,this.ballMoveBehavior,t),this.rightPaddleMoveBehavior=new g(this.rightPaddle,this.ballMoveBehavior,t),this.pauseTimer=new p},setUpCanvas(t){this.ctx=t.getContext("2d"),this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight,this.ctx.imageSmoothingEnabled=!1,this.ctx.fillStyle="red",window.addEventListener("resize",this.onResize)},onResize(){this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight,this.setObjectXPositions()},setObjectXPositions(){this.leftPaddle.x=this.ctx.canvas.width/8,this.rightPaddle.x=this.ctx.canvas.width-this.ctx.canvas.width/8},draw(){this.leftPaddle.draw(this.ctx),this.rightPaddle.draw(this.ctx),this.ball.draw(this.ctx),requestAnimationFrame(this.update)},movePaddles(){this.leftPaddleMoveBehavior.update(),this.rightPaddleMoveBehavior.update()},moveObjects(){this.movePaddles(),this.ballMoveBehavior.move()},clearCanvas(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)}},data(){return{leftScore:0,rightScore:0}}},b=e(89);const w=(0,b.Z)(f,[["render",n]]);var m=w;(0,s.ri)(m).mount("#app")}},i={};function e(s){var h=i[s];if(void 0!==h)return h.exports;var a=i[s]={exports:{}};return t[s](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(i,s,h,a){if(!s){var d=1/0;for(o=0;o<t.length;o++){s=t[o][0],h=t[o][1],a=t[o][2];for(var l=!0,r=0;r<s.length;r++)(!1&a||d>=a)&&Object.keys(e.O).every((function(t){return e.O[t](s[r])}))?s.splice(r--,1):(l=!1,a<d&&(d=a));if(l){t.splice(o--,1);var n=h();void 0!==n&&(i=n)}}return i}a=a||0;for(var o=t.length;o>0&&t[o-1][2]>a;o--)t[o]=t[o-1];t[o]=[s,h,a]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var h,a,d=s[0],l=s[1],r=s[2],n=0;if(d.some((function(i){return 0!==t[i]}))){for(h in l)e.o(l,h)&&(e.m[h]=l[h]);if(r)var o=r(e)}for(i&&i(s);n<d.length;n++)a=d[n],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(o)},s=self["webpackChunkpong"]=self["webpackChunkpong"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(6554)}));s=e.O(s)})();
//# sourceMappingURL=app.1fab4a70.js.map